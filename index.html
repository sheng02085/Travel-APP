<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>My Travel App</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        travel: {
                            50: '#f0f9ff',
                            100: '#e0f2fe',
                            500: '#0ea5e9', // æ·ºè—è‰²ä¸»è‰²èª¿
                            600: '#0284c7',
                        }
                    }
                }
            }
        }
    </script>
    
    <style>
        /* éš±è—æ²è»¸ä½†ä¿æŒåŠŸèƒ½ï¼Œè®“é«”é©—æ›´åƒ App */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }
        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        body {
            /* é˜²æ­¢ iOS æ©¡çš®ç­‹æ•ˆæœ */
            overscroll-behavior-y: none;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800 h-screen overflow-hidden flex justify-center">

    <div id="app" class="w-full max-w-md h-full bg-travel-50 flex flex-col relative shadow-2xl overflow-hidden sm:rounded-xl sm:h-[95vh] sm:my-auto">
        
        <header class="bg-white px-6 py-4 shadow-sm z-10 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-travel-600">TravelGo</h1>
                <p class="text-xs text-gray-400">æ—¥æœ¬ãƒ»æ±äº¬ 5æ—¥éŠ</p>
            </div>
            <div class="w-10 h-10 rounded-full bg-travel-100 flex items-center justify-center text-travel-600">
                <i class="fa-solid fa-user"></i>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto hide-scrollbar p-4 pb-24">
            
            <div v-if="currentTab === 'schedule'" class="space-y-4">
                <div class="flex items-center space-x-2 overflow-x-auto pb-2">
                    <button v-for="day in 5" :key="day" 
                        @click="currentDay = day"
                        :class="currentDay === day ? 'bg-travel-500 text-white' : 'bg-white text-gray-500'"
                        class="px-4 py-2 rounded-full text-sm font-medium shadow-sm transition-colors whitespace-nowrap">
                        ç¬¬ {{ day }} å¤©
                    </button>
                </div>

                <div v-for="(item, index) in itineraryDisplay" :key="index" class="bg-white p-4 rounded-2xl shadow-sm flex gap-4 border-l-4 border-travel-500">
                    <div class="flex flex-col items-center justify-center min-w-[3rem] text-travel-600 font-bold">
                        <span>{{ item.time }}</span>
                        <div class="mt-2 text-yellow-500 text-lg" v-html="getWeatherIcon(item.weather)"></div>
                    </div>
                    <div class="flex-1">
                        <h3 class="font-bold text-lg">{{ item.title }}</h3>
                        <p class="text-xs text-gray-400 mt-1"><i class="fa-solid fa-location-dot mr-1"></i> {{ item.location }}</p>
                        <div class="mt-3">
                            <a :href="'https://www.google.com/maps/search/?api=1&query=' + item.location" target="_blank" 
                               class="inline-block px-3 py-1 bg-travel-50 text-travel-600 text-xs rounded-lg hover:bg-travel-100 transition">
                                <i class="fa-solid fa-diamond-turn-right mr-1"></i> å°èˆª
                            </a>
                        </div>
                    </div>
                </div>
            </div>

            <div v-if="currentTab === 'map'" class="h-full w-full bg-white rounded-2xl shadow-sm overflow-hidden flex flex-col">
                <div class="p-4 bg-white border-b">
                    <h2 class="font-bold text-lg">æ™¯é»åœ°åœ–</h2>
                </div>
                <iframe 
                    src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3240.8280305987303!2d139.7671248!3d35.6812362!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x60188bfbd89f7007%3A0x277c49ba34ed38!2sTokyo%20Station!5e0!3m2!1sen!2stw!4v1700000000000!5m2!1sen!2stw" 
                    width="100%" 
                    height="100%" 
                    style="border:0;" 
                    allowfullscreen="" 
                    loading="lazy">
                </iframe>
            </div>

            <div v-if="currentTab === 'wallet'" class="space-y-4">
                <div class="bg-gradient-to-r from-travel-500 to-travel-600 text-white p-6 rounded-2xl shadow-lg">
                    <p class="text-sm opacity-80">ç›®å‰ç¸½æ”¯å‡º</p>
                    <h2 class="text-4xl font-bold mt-1">NT$ {{ totalExpense }}</h2>
                </div>

                <div class="bg-white p-4 rounded-2xl shadow-sm space-y-3">
                    <h3 class="font-bold text-gray-700">æ–°å¢ä¸€ç­†</h3>
                    <div class="flex gap-2">
                        <input v-model="newExpense.name" type="text" placeholder="é …ç›® (ä¾‹å¦‚: æ‹‰éºµ)" class="flex-1 bg-gray-50 p-3 rounded-xl outline-none focus:ring-2 focus:ring-travel-200 transition">
                        <input v-model.number="newExpense.amount" type="number" placeholder="é‡‘é¡" class="w-24 bg-gray-50 p-3 rounded-xl outline-none focus:ring-2 focus:ring-travel-200 transition">
                    </div>
                    <div class="flex gap-2">
                        <select v-model="newExpense.type" class="flex-1 bg-gray-50 p-3 rounded-xl outline-none text-gray-600">
                            <option value="cash">ğŸ’µ ç¾é‡‘</option>
                            <option value="card">ğŸ’³ ä¿¡ç”¨å¡</option>
                        </select>
                        <button @click="addExpense" class="bg-travel-600 text-white px-6 py-2 rounded-xl font-bold shadow-md active:scale-95 transition">
                            <i class="fa-solid fa-plus"></i>
                        </button>
                    </div>
                </div>

                <div class="space-y-2">
                    <div v-for="(expense, idx) in expenses" :key="idx" class="bg-white p-3 rounded-xl shadow-sm flex justify-between items-center">
                        <div class="flex items-center gap-3">
                            <div class="w-10 h-10 rounded-full flex items-center justify-center" 
                                :class="expense.type === 'card' ? 'bg-purple-100 text-purple-600' : 'bg-green-100 text-green-600'">
                                <i :class="expense.type === 'card' ? 'fa-solid fa-credit-card' : 'fa-solid fa-money-bill'"></i>
                            </div>
                            <span class="font-medium text-gray-700">{{ expense.name }}</span>
                        </div>
                        <span class="font-bold text-gray-800">-{{ expense.amount }}</span>
                    </div>
                </div>
            </div>

            <div v-if="currentTab === 'shop'" class="space-y-4">
                <div class="bg-white p-4 rounded-2xl shadow-sm flex gap-2">
                    <input v-model="newShopItem" @keyup.enter="addShopItem" type="text" placeholder="æƒ³è²·ä»€éº¼ï¼Ÿ" class="flex-1 bg-gray-50 p-3 rounded-xl outline-none focus:ring-2 focus:ring-travel-200 transition">
                    <button @click="addShopItem" class="text-travel-600 font-bold px-4 hover:bg-travel-50 rounded-xl transition">æ–°å¢</button>
                </div>

                <div class="space-y-2">
                    <div v-for="(item, idx) in shopList" :key="idx" 
                        @click="item.done = !item.done"
                        class="bg-white p-4 rounded-xl shadow-sm flex items-center gap-3 transition cursor-pointer select-none"
                        :class="{'opacity-50': item.done}">
                        <div class="w-6 h-6 border-2 rounded-md flex items-center justify-center transition-colors"
                             :class="item.done ? 'bg-travel-500 border-travel-500' : 'border-gray-300'">
                            <i v-if="item.done" class="fa-solid fa-check text-white text-xs"></i>
                        </div>
                        <span :class="{'line-through text-gray-400': item.done}" class="font-medium text-lg">{{ item.name }}</span>
                    </div>
                </div>
                
                <div v-if="shopList.length === 0" class="text-center py-10 text-gray-400">
                    <i class="fa-solid fa-basket-shopping text-4xl mb-2"></i>
                    <p>æ¸…å–®æ˜¯ç©ºçš„ï¼Œå¿«å»è¡€æ‹¼å§ï¼</p>
                </div>
            </div>

        </main>

        <nav class="bg-white border-t px-6 py-2 pb-5 flex justify-between items-center z-10">
            <button @click="currentTab = 'schedule'" :class="currentTab === 'schedule' ? 'text-travel-600' : 'text-gray-300'" class="flex flex-col items-center gap-1 w-12 transition">
                <i class="fa-solid fa-calendar-days text-xl"></i>
                <span class="text-[10px] font-bold">è¡Œç¨‹</span>
            </button>
            <button @click="currentTab = 'map'" :class="currentTab === 'map' ? 'text-travel-600' : 'text-gray-300'" class="flex flex-col items-center gap-1 w-12 transition">
                <i class="fa-solid fa-map-location-dot text-xl"></i>
                <span class="text-[10px] font-bold">åœ°åœ–</span>
            </button>
            
            <div class="relative -top-5">
                <button @click="currentTab = 'wallet'" class="w-14 h-14 bg-travel-500 rounded-full text-white shadow-lg flex items-center justify-center text-2xl border-4 border-travel-50 active:scale-95 transition">
                    <i class="fa-solid fa-wallet"></i>
                </button>
            </div>

            <button @click="currentTab = 'shop'" :class="currentTab === 'shop' ? 'text-travel-600' : 'text-gray-300'" class="flex flex-col items-center gap-1 w-12 transition">
                <i class="fa-solid fa-bag-shopping text-xl"></i>
                <span class="text-[10px] font-bold">è³¼ç‰©</span>
            </button>
            <button class="text-gray-300 flex flex-col items-center gap-1 w-12 hover:text-gray-400">
                <i class="fa-solid fa-gear text-xl"></i>
                <span class="text-[10px] font-bold">è¨­å®š</span>
            </button>
        </nav>

    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script>
        const { createApp, ref, computed } = Vue;

        createApp({
            setup() {
                // ç•¶å‰é ç±¤
                const currentTab = ref('schedule');
                // è¡Œç¨‹è¡¨ç›®å‰çš„æ—¥æœŸ
                const currentDay = ref(1);

                // æ¨¡æ“¬è¡Œç¨‹è³‡æ–™
                const itineraryData = [
                    { day: 1, time: '10:00', title: 'æŠµé”æ±äº¬æˆç”°æ©Ÿå ´', location: 'Narita Airport', weather: 'sunny' },
                    { day: 1, time: '14:00', title: 'æ·ºè‰é›·é–€åƒæ‹œ', location: 'Senso-ji', weather: 'cloudy' },
                    { day: 1, time: '18:00', title: 'æ™´ç©ºå¡”çœ‹å¤œæ™¯', location: 'Tokyo Skytree', weather: 'rainy' },
                    { day: 2, time: '09:00', title: 'è¿ªå£«å°¼æ¨‚åœ’', location: 'Tokyo Disneyland', weather: 'sunny' },
                ];

                // è¨˜å¸³è³‡æ–™
                const expenses = ref([
                    { name: 'æ©Ÿç¥¨é¦–ä»˜æ¬¾', amount: 5000, type: 'card' },
                    { name: 'ä¾¿åˆ©å•†åº—', amount: 250, type: 'cash' },
                ]);
                const newExpense = ref({ name: '', amount: '', type: 'cash' });

                // è³¼ç‰©æ¸…å–®è³‡æ–™
                const shopList = ref([
                    { name: 'è—¥å¦åº—é¢è†œ', done: false },
                    { name: 'æ±äº¬é¦™è•‰è›‹ç³•', done: true },
                ]);
                const newShopItem = ref('');

                // è¨ˆç®—å±¬æ€§: ç¯©é¸ç•¶å‰æ—¥æœŸçš„è¡Œç¨‹
                const itineraryDisplay = computed(() => {
                    return itineraryData.filter(item => item.day === currentDay.value);
                });

                // è¨ˆç®—å±¬æ€§: ç¸½æ”¯å‡º
                const totalExpense = computed(() => {
                    return expenses.value.reduce((sum, item) => sum + item.amount, 0);
                });

                // æ–¹æ³•: å–å¾—å¤©æ°£åœ–ç¤º
                const getWeatherIcon = (weather) => {
                    if (weather === 'sunny') return '<i class="fa-solid fa-sun"></i>';
                    if (weather === 'cloudy') return '<i class="fa-solid fa-cloud"></i>';
                    if (weather === 'rainy') return '<i class="fa-solid fa-umbrella"></i>';
                    return '';
                };

                // æ–¹æ³•: æ–°å¢æ”¯å‡º
                const addExpense = () => {
                    if (newExpense.value.name && newExpense.value.amount) {
                        expenses.value.unshift({ ...newExpense.value });
                        newExpense.value.name = '';
                        newExpense.value.amount = '';
                    }
                };

                // æ–¹æ³•: æ–°å¢è³¼ç‰©é …ç›®
                const addShopItem = () => {
                    if (newShopItem.value) {
                        shopList.value.unshift({ name: newShopItem.value, done: false });
                        newShopItem.value = '';
                    }
                };

                return {
                    currentTab,
                    currentDay,
                    itineraryDisplay,
                    getWeatherIcon,
                    expenses,
                    newExpense,
                    addExpense,
                    totalExpense,
                    shopList,
                    newShopItem,
                    addShopItem
                };
            }
        }).mount('#app');
    </script>
</body>
</html>